<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenLearn Pro v1Fix</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="topbar">
  <button id="hamburger" class="btn ghost">â˜°</button>
  <div class="brand">OpenLearn</div>
  <div class="spacer"></div>
  <button id="toggleTheme" class="btn ghost">ğŸŒ“</button>
  <button id="btnLogin" class="btn">Login</button>
  <button id="btnSignup" class="btn">Sign up</button>
  <div id="userMenu" class="user-menu hidden">
    <span id="userName"></span>
    <button id="btnLogout" class="btn ghost">Logout</button>
  </div>
  <button id="btnTopAdmin" class="btn admin-only hidden">Admin</button>
  <button id="btnLogoutTop" class="btn ghost hidden">Logout</button>
</header>

<div class="layout">
  <aside id="sidebar" class="sidebar">
    <nav class="side-nav">
      <button class="side-item active" data-page="courses">ğŸ  Courses</button>
      <button class="side-item" data-page="mylearning">ğŸ“‚ My Learning</button>
      <button class="side-item" data-page="gradebook">ğŸ§® Gradebook</button>
      <div class="side-section">Admin</div>
      <button class="side-item admin-only hidden" data-page="admin">ğŸ› ï¸ Admin</button>
      <button class="side-item admin-only hidden" data-page="analytics">ğŸ“Š Analytics</button>
      <div class="side-section">Personal</div>
      <button class="side-item" data-page="settings">âš™ï¸ Settings</button>
    </nav>
  </aside>

  <main class="content">
    <section id="page-catalog" class="page visible"><h2>Catalog</h2></section>
    <section id="page-course" class="page"><h2>Course Detail</h2></section>
    <section id="page-mylearning" class="page"><h2>My Learning</h2></section>
    <section id="page-gradebook" class="page">
      <h2>Gradebook</h2>
      <div class="row">
        <select id="gbCourseSelect"></select>
        <button id="gbRefresh" class="btn">Refresh</button>
      </div>
      <table class="table" id="gbTable">
        <thead><tr><th>Student</th><th>Course</th><th>Progress</th><th>Last Activity</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>
    <section id="page-admin" class="page"><h2>Admin</h2></section>
    <section id="page-analytics" class="page"><h2>Analytics</h2></section>
    <section id="page-settings" class="page">
      <h2>Settings</h2>
      <div class="card">
        <div class="row">
          <label for="themeSelect">Theme</label>
          <select id="themeSelect"><option value="dark">Dark</option><option value="light">Light</option></select>
          <label for="fontRange">Font size</label>
          <input id="fontRange" type="range" min="13" max="18" step="1" />
          <span id="fontPreview" class="muted"></span>
        </div>
      </div>
    </section>
  </main>
</div>

<dialog id="dlgCourse">
  <form method="dialog">
    <h3>New Course</h3>
    <input type="text" placeholder="Course title">
    <menu>
      <button type="submit" class="btn primary">Save</button>
      <button type="button" class="btn ghost dlg-close">Close</button>
    </menu>
  </form>
</dialog>

<div id="toast"></div>
<script type="module" src="firebase.js"></script>
<script type="module" src="app.js"></script>
</body>
</html>