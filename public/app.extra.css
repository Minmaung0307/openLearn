/* ============== Details modal sizing + scroll ============== */
#detailsModal .modal-card{
  max-width:1100px !important;
  width:80% !important;
  max-height:80vh !important;
  display:flex;
  flex-direction:column;
}
#detailsModal .modal-body{ overflow:auto !important; }

/* ================= Sidebar (canonical) ===================== */
/* Layout assumptions:
   - #sidebar > nav > .navbtn (each button)
   - Inside each .navbtn: <i class="ico">â€¦</i><span class="label">Name</span>
   - Default = icon-only; Hover = show label; Expanded (via .expanded) = always show label
*/

/* Base button */
#sidebar nav .navbtn{
  display:flex; align-items:center; justify-content:center; gap:10px;
  width:56px; height:56px; padding:0 10px; margin:6px 8px;
  border-radius:12px; border:1px solid var(--border, #1f2a3b);
  background:var(--card, #111827); color:var(--fg, #eaf1ff);
  cursor:pointer; user-select:none; outline:none; line-height:1;
  transition:width .15s ease, background .15s ease, border-color .15s ease;
}
#sidebar nav .navbtn .ico{
  width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center;
  font-size:20px; line-height:1;
}
#sidebar nav .navbtn .label{
  display:none; white-space:nowrap; font-size:14px; opacity:.95;
}

/* Hover = show label (drawer effect) */
#sidebar:hover nav .navbtn{
  width:200px; justify-content:flex-start;
}
#sidebar:hover nav .navbtn .label{
  display:inline-block;
}

/* Expanded state = always show label (e.g. when you toggle a class in JS) */
#sidebar.expanded nav .navbtn{
  width:200px; justify-content:flex-start;
}
#sidebar.expanded nav .navbtn .label{
  display:inline-block;
}

/* Visual feedback */
#sidebar nav .navbtn:hover{
  background: color-mix(in srgb, var(--primary, #2563eb) 18%, transparent);
  border-color: color-mix(in srgb, var(--primary, #2563eb) 45%, #1f2a3b);
}
#sidebar nav .navbtn:active{ transform: translateY(1px); }

/* ============== Helpers / Utilities ======================== */
.chip{ display:inline-block; padding:.2rem .5rem; border-radius:999px; background:#1114; }
.sticky{ position:sticky; background:transparent; z-index:1; }
.muted{ color:#8aa; }
.small{ font-size:.875rem; }
.row{ display:flex; gap:.5rem; align-items:center; }
.stack{ display:flex; flex-direction:column; gap:.5rem; }
.card{ border:1px solid #1f2a3b; background:#111827; border-radius:12px; }
.btn{ padding:.5rem .75rem; border:1px solid #1f2a3b; border-radius:10px; cursor:pointer; background:#0f172a; color:#eaf1ff; }
.btn-primary,.primary{ background:#2563eb; border-color:#2563eb; color:#fff; }
.field{ width:100%; padding:.5rem .75rem; border-radius:10px; border:1px solid #1f2a3b; background:#0b1020; color:#eaf1ff; }
.icon-btn{ background:transparent; border:none; color:#eaf1ff; font-size:1rem; cursor:pointer; }

/* Header indicator badge (small red dot) */
.ol-badge{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:16px; height:16px; padding:0 4px; margin-left:2px;
  background:#ef4444; color:#fff; font-size:11px; border-radius:999px;
}

/* ============== Layout safety ============================== */
#main{ padding-left:60px; }   /* main not hidden behind collapsed sidebar */