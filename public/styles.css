:root{
  --bg:#0b0f17;--fg:#e7ecf3;--muted:#9aa6b2;--card:#121826;--accent:#66d9ef;--border:#223;
  --btnBg:#1f2937;--btnFg:#e7ecf3;--btnPrimaryBg:#2563eb;--btnPrimaryFg:#ffffff;
  --inputBg:#0b1220;--inputFg:#e7ecf3;--hoverBg:#0e1625;
  --fontSize:14px; --sbw:72px; --sbwExpanded:240px;
}
html,body{margin:0;background:var(--bg);color:var(--fg);font:var(--fontSize)/1.45 system-ui,Segoe UI,Roboto,Arial}
*{box-sizing:border-box}
.hidden{display:none!important}
.muted{color:var(--muted)}
.btn{background:var(--btnBg);color:var(--btnFg);border:1px solid var(--border);padding:.6rem .8rem;border-radius:10px;cursor:pointer}
.btn.ghost{background:transparent}
.btn.primary{background:var(--btnPrimaryBg);color:var(--btnPrimaryFg);border-color:transparent}
input,select,textarea{background:var(--inputBg);color:var(--inputFg);border:1px solid var(--border);border-radius:10px;padding:.6rem .7rem}
.topbar{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:10px;padding:.5rem .75rem;border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--bg);z-index:5}
.brand{font-weight:800}
.top-search{display:flex;align-items:center;gap:6px;background:var(--card);border:1px solid var(--border);border-radius:12px;padding:4px 6px;max-width:780px;margin:0 auto;width:100%}
.top-actions{display:flex;align-items:center;gap:8px}
.top-search input{background:transparent;border:0;outline:none;color:var(--fg);width:100%}

.layout{display:grid;grid-template-columns:1fr;min-height:calc(100vh - 58px)}
.sidebar{position:fixed;left:0;top:58px;height:calc(100vh - 58px);background:var(--card);border-right:1px solid var(--border);transition:width .18s ease;z-index:10;display:flex;flex-direction:column;width:var(--sbw)}
.sidebar.expanded{width:var(--sbwExpanded)}
@media(min-width:1025px){.layout{grid-template-columns:var(--sbw) 1fr}.sidebar{position:sticky} .sidebar.expanded+main{margin-left:0}}
.side-nav{padding:6px}
.side-item,.side-section{display:flex;align-items:center;gap:10px;width:100%;text-align:left;margin:4px 0;padding:.7rem .6rem;border-radius:12px;border:1px solid transparent;background:transparent;color:var(--fg);cursor:pointer}
.side-item:hover,.side-section:hover{background:var(--hoverBg)}
.side-item.active{border-color:var(--border);outline:2px solid color-mix(in oklab, var(--accent) 40%, transparent)}
.side-section{font-weight:700;color:var(--fg)}
.side-group{display:grid;grid-template-columns:1fr;padding-left:6px}
.sidebar.collapsed .side-label{display:none}
.sidebar.collapsed .side-item,.sidebar.collapsed .side-section{justify-content:center}
.sidebar .ico{font-size:1.4rem; width:1.5rem; text-align:center}

.content{padding:14px}
.page{display:none}
.page.visible{display:block}

.controls{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px}
.grid2{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:10px}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--border);padding:.6rem;word-break:break-word}

.page-head{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:10px}

.course-header{display:grid;grid-template-columns:200px 1fr;gap:12px;margin-bottom:10px}
.course-body{display:grid;grid-template-columns:280px 1fr 300px;gap:12px}
.syllabus{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:10px;max-height:70vh;overflow:auto}
.lesson-content iframe,.lesson-content video{width:100%;height:300px;border:0;border-radius:10px}

@media(max-width:1024px){
  .layout{grid-template-columns:1fr}
  .sidebar{position:fixed;left:0;top:58px;transform:translateX(-100%);width:var(--sbwExpanded)}
  .sidebar.expanded{transform:translateX(0)}
  .content{padding:12px}
  .course-body{grid-template-columns:1fr}
}

dialog{border:1px solid var(--border);border-radius:14px;background:var(--card);color:var(--fg)}
dialog form{padding:14px;min-width:320px}
.row{display:flex;gap:8px;align-items:center}
.row.between{justify-content:space-between}
.stack{display:flex;flex-direction:column;gap:8px}

.course-card{background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden;display:flex;flex-direction:column}
.course-card img{width:100%;height:120px;object-fit:cover}
.course-card .body{padding:10px;display:grid;gap:6px}
.badge{display:inline-block;background:var(--hoverBg);padding:.2rem .5rem;border-radius:999px;font-size:.85em;border:1px solid var(--border)}

#toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#000a;color:#fff;padding:8px 12px;border-radius:12px;opacity:0;transition:opacity .2s;z-index:50}
#toast.show{opacity:1}
