:root{
  --bg:#0b0f17; --fg:#eaf1ff; --card:#111827; --muted:#9fb0c3; --border:#1f2a3b; --primary:#2563eb;
  --sidebarW:74px; --sidebarExpanded:260px; --font: 15.5px;
}

/* Reset & base */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--fg);font:var(--font)/1.45 system-ui,Segoe UI,Roboto,Helvetica,Arial}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}

.small{font-size:12px;color:var(--muted)}
.h2{font-size:22px;margin:0 0 8px}
.h3{font-size:18px;margin:0 0 6px}

/* Buttons */
.btn{
  padding:10px 14px;border-radius:12px;border:1px solid var(--border);
  background:#0f1725;color:var(--fg);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;
}
.btn.primary{background:var(--primary);border-color:#0002}
.btn.ghost{background:transparent}
.btn:disabled{opacity:.6;cursor:not-allowed}

/* Topbar */
.topbar{
  position:sticky;top:0;z-index:50;display:flex;align-items:center;gap:12px;
  padding:12px 16px;background:rgba(17,24,39,.9);backdrop-filter: blur(8px);border-bottom:1px solid var(--border)
}
.brand{display:flex;align-items:center;gap:10px;font-weight:700}
.brand img{width:28px;height:28px}
.topbar .search{flex:1;max-width:680px;display:flex;gap:8px}
.topbar input[type=search]{flex:1;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#0b1220;color:var(--fg)}

/* Sidebar (icons only, labels on hover) */
.sidebar{
  position:fixed;top:58px;left:0;height:calc(100% - 58px);
  width:var(--sidebarW);background:var(--card);border-right:1px solid var(--border);transition:width .15s;
}
.sidebar:hover, .sidebar.open{width:var(--sidebarExpanded)}
.nav{display:flex;flex-direction:column;gap:8px;padding:10px}
.navbtn{
  display:flex;align-items:center;gap:12px;padding:10px;border-radius:14px;border:1px solid transparent;
  cursor:pointer;background:transparent;color:var(--fg);text-align:left;
}
.navbtn .ico{
  width:36px;height:36px;display:inline-grid;place-items:center;
  background:#101a2a;border:1px solid var(--border);border-radius:12px;font-size:18px
}
.navbtn span{opacity:0;white-space:nowrap;transition:opacity .15s}
.sidebar:hover .navbtn span, .sidebar.open .navbtn span{opacity:1}
.navbtn:hover{background:#0e1627}

/* Content layout */
.content{margin-left:var(--sidebarW);padding:16px;min-height:calc(100vh - 58px - 56px)}
.sidebar:hover ~ .content, .sidebar.open ~ .content{margin-left:var(--sidebarExpanded)}

/* Course grid & cards */
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:14px}
.card{
  background:linear-gradient(180deg,#0e1524,#0b111d);border:1px solid var(--border);border-radius:16px;overflow:hidden;
  box-shadow:0 6px 20px #0005;transition:transform .12s, box-shadow .12s;
}
.card:hover{transform:translateY(-2px);box-shadow:0 10px 24px #0007}
.card img{width:100%;height:160px;object-fit:cover}
.card .body{padding:12px}
.badge{display:inline-flex;gap:6px;align-items:center;font-size:12px;color:#a9bad1}
.kv{display:flex;justify-content:space-between;align-items:center;margin:6px 0}
.price{font-weight:700}

/* Reader */
.reader{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px}
.progress{height:8px;background:#0f1726;border-radius:10px;overflow:hidden;margin:10px 0}
.progress i{display:block;height:8px;background:var(--primary)}

/* Table */
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--border);padding:8px;text-align:left}

/* Footer */
.footer{
  position:sticky;bottom:0;background:rgba(17,24,39,.95);backdrop-filter: blur(8px);
  border-top:1px solid var(--border);padding:10px 16px;display:flex;gap:12px;align-items:center
}
.footer .grow{flex:1}
.footer .soc{
  width:36px;height:36px;border:1px solid var(--border);display:grid;place-items:center;border-radius:12px;background:#0e1627
}

/* Dialogs */
dialog{border:1px solid var(--border);border-radius:16px;background:var(--card);color:var(--fg);padding:0;max-width:min(920px,90vw)}
dialog .wrap{padding:16px}
#dlgCourse form{display:grid;grid-template-columns:1fr 1fr;gap:12px}
#dlgCourse h3{grid-column:1/-1;margin:0 0 8px}
#dlgCourse textarea{grid-column:1/-1;min-height:120px}
#dlgCourse menu{grid-column:1/-1;display:flex;justify-content:flex-end;gap:8px}

/* Themes (apply via inline vars) */
[data-theme="light"]{--bg:#f6f8fc;--fg:#0e1116;--card:#ffffff;--muted:#556170;--border:#e4e8f0;--primary:#2563eb}
[data-theme="ocean"]{--bg:#07151a;--fg:#d6f6ff;--card:#0d222b;--muted:#8fb6c2;--border:#1e3a44;--primary:#00b4d8}
[data-theme="violet"]{--bg:#0d0a14;--fg:#efeaff;--card:#151028;--muted:#b7a7da;--border:#2a1f4a;--primary:#7c3aed}

/* Responsive */
@media(max-width:1024px){
  .content{margin-left:0}
  .sidebar{transform:translateX(-100%);transition:transform .2s}
  .sidebar.show{transform:translateX(0)}
  .topbar .search{max-width:none}
}