<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>OpenLearn</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/png" href="/icons/icon-192.png">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">
  <meta name="theme-color" content="#0b0f17">
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/addons/addons.css">
  <link href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>window.addEventListener('DOMContentLoaded',()=>{ if(window.EMAILJS?.publicKey){ emailjs.init(window.EMAILJS.publicKey); } });</script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.8.2/dist/jspdf.plugin.autotable.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js" defer></script>
  <script type="module" src="/config.js"></script>
</head>
<body>
  <header id="topbar">
    <div class="row">
      <div id="logo"><img src="/icons/logo.png" alt="OpenLearn" height="26" style="vertical-align:middle;margin-right:8px">OpenLearn</div>
      <div class="grow"></div>
      <input id="topSearch" placeholder="Search courses…"/>
      <button id="btn-login" class="btn">Login</button>
      <button id="btn-logout" class="btn" style="display:none">Logout</button>
    </div>
  </header>

  <aside id="sidebar" class="mini">
    <nav>
      <button class="navbtn" data-page="catalog" title="Catalog">📚<span>Catalog</span></button>
      <button class="navbtn" data-page="courses" title="Courses">🎓<span>Courses</span></button>
      <button class="navbtn" data-page="mylearning" title="My Learning">🧭<span>My Learning</span></button>
      <button class="navbtn" data-page="gradebook" title="Gradebook">📈<span>Gradebook</span></button>
      <button class="navbtn" data-page="admin" title="Admin">🛠️<span>Admin</span></button>
      <button class="navbtn" data-page="settings" title="Settings">⚙️<span>Settings</span></button>
    </nav>
  </aside>

  <main id="main">
    <section id="page-catalog" class="page active">
      <h2>Catalog</h2>
      <div id="catalog-grid" class="grid"></div>
    </section>

    <section id="page-courses" class="page">
      <h2>Courses (Manage)</h2>
      <div class="row">
        <button id="btn-add-samples" class="btn">Add 7 Sample Courses</button>
        <button id="btn-new-course" class="btn primary">+ New Course</button>
        <button id="btn-manage" class="btn">Open Manage</button>
        <div id="paypal-button-container" style="margin-left:auto"></div>
      </div>
      <div id="ol-course-grid" class="grid"></div>
    </section>

    <section id="page-mylearning" class="page">
      <h2>My Learning</h2>
      <div id="mylearn-grid" class="grid"></div>
      <section id="reader" data-course-id="" style="display:none"></section>
    </section>

    <section id="page-gradebook" class="page">
      <h2>Gradebook</h2>
      <div id="gradebook"></div>
    </section>

    <section id="page-admin" class="page">
      <h2>Admin</h2>
      <div id="admin-dashboard"></div>
    </section>

    <section id="page-settings" class="page">
      <h2>Settings</h2>
      <div class="row">
        <label>Theme
          <select id="themeSel">
            <option value="dark" selected>Dark</option>
            <option value="light">Light</option>
            <option value="deepblue">Deep Blue</option>
            <option value="forest">Forest</option>
          </select>
        </label>
        <label>Font size
          <select id="fontSel">
            <option value="14px">14</option>
            <option value="16px" selected>16</option>
            <option value="18px">18</option>
            <option value="20px">20</option>
          </select>
        </label>
      </div>
    </section>

    <section id="page-legal" class="page">
      <h2 id="legal-title">Legal</h2>
      <div id="legal-body" class="card"></div>
    </section>
  </main>

  <footer id="footer">
    <div class="row">
      <div class="grow">© OpenLearn</div>
      <nav class="links">
        <a data-legal="guide" href="#">Guide</a>
        <a data-legal="privacy" href="#">Privacy</a>
        <a data-legal="policy" href="#">Policy</a>
        <a data-legal="contact" href="#">Contact</a>
      </nav>
      <nav class="social">
        <a href="https://youtube.com" target="_blank" aria-label="YouTube"><img src="/icons/youtube.png" alt="YouTube" height="18"></a>
        <a href="https://tiktok.com" target="_blank" aria-label="TikTok"><img src="/icons/tiktok.png" alt="TikTok" height="18"></a>
        <a href="https://facebook.com" target="_blank" aria-label="Facebook"><img src="/icons/facebook.png" alt="Facebook" height="18"></a>
        <a href="https://instagram.com" target="_blank" aria-label="Instagram"><img src="/icons/instagram.png" alt="Instagram" height="18"></a>
        <a href="https://twitter.com" target="_blank" aria-label="Twitter"><img src="/icons/twitter.png" alt="Twitter" height="18"></a>
      </nav>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js" defer></script>
  <script type="module" src="/app.js"></script>
  <!-- Addons -->
  <script type="module" src="/addons/step01-notes.js"></script>
  <script type="module" src="/addons/step02-bookmarks.js"></script>
  <script type="module" src="/addons/step03-progress.js"></script>
  <script type="module" src="/addons/step04-payments.js"></script>
  <script type="module" src="/addons/step05-contact.js"></script>
  <script type="module" src="/addons/step06-dashboard.js"></script>
  <script type="module" src="/addons/step07-announcements.js"></script>
  <script type="module" src="/addons/step08-chat.js"></script>
  <script type="module" src="/addons/step09-gradebook.js"></script>
  <script type="module" src="/addons/step10-catalog-filters.js"></script>
  <script type="module" src="/addons/step11-role-menus.js"></script>
  <script type="module" src="/addons/step12-mobile-nav.js"></script>
  <script type="module" src="/addons/step13-legal-pages.js"></script>
  <script type="module" src="/addons/step14-theme-font.js"></script>
  <script type="module" src="/addons/step15-editors-full.js"></script>
  <script type="module" src="/addons/step16-reader.js"></script>
  <script type="module" src="/addons/step17-certs.js"></script>
  <script type="module" src="/addons/step18-analytics.js"></script>
</body>
</html>
