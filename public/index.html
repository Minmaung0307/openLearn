<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>OpenLearn</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/icons/icon-192.png">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
<header class="topbar">
  <div class="row left">
    <button id="hamburger" class="btn ghost" aria-label="Toggle menu">☰</button>
    <a class="brand">📘 OpenLearn</a>
  </div>
  <div class="top-search desktop-only">
    <input id="topSearch" type="search" placeholder="Search courses…">
    <button id="topSearchBtn" class="btn ghost">🔍</button>
  </div>
  <div class="row right">
    <button id="mobileSearchBtn" class="btn ghost mobile-only">🔍</button>
    <button id="btnInstallPwa" class="btn ghost hidden">⬇️ Install</button>
    <a id="btnLogin" class="btn" href="/login.html">Login</a>
    <a id="btnSignup" class="btn" href="/login.html#signup">Sign up</a>
    <div id="userMenu" class="user-menu hidden">
      <span id="userName"></span>
      <button id="btnLogoutTop" class="btn ghost">Logout</button>
    </div>
  </div>
</header>

<aside id="sidebar" class="sidebar">
  <nav>
    <button class="navbtn" data-goto="courses" title="Courses">📚<span>Courses</span></button>
    <button class="navbtn" data-goto="mylearning" title="My Learning">🎒<span>My Learning</span></button>
    <button class="navbtn" data-goto="gradebook" title="Gradebook">📊<span>Gradebook</span></button>
    <button class="navbtn" data-goto="dashboard" title="Dashboard">📰<span>Dashboard</span></button>
    <button class="navbtn" data-goto="analytics" title="Analytics">📈<span>Analytics</span></button>
    <button class="navbtn" data-goto="settings" title="Settings">⚙️<span>Settings</span></button>
  </nav>
</aside>

<main class="content">
  <section id="page-courses" class="page">
    <div class="row between">
      <h2>Courses</h2>
      <div class="row">
        <button id="btnAddSample" class="btn ghost">Add sample data</button>
        <button id="btnNewCourse" class="btn primary">New course</button>
      </div>
    </div>
    <div class="filters row wrap gap8">
      <select id="filterCat"><option value="">All Categories</option></select>
      <select id="filterLevel"><option value="">All Levels</option></select>
      <input id="filterTitle" placeholder="Title (sorting)" />
    </div>
    <div id="courseGrid" class="grid"></div>
  </section>

  <section id="page-mylearning" class="page hidden">
    <h2>My Learning</h2>
    <div id="myCourses" class="grid"></div>

    <article id="reader" class="reader card hidden">
      <div class="reader-top row between">
        <div class="row">
          <button id="rdBack" class="btn">← Back</button>
          <button id="rdBookmark" class="btn ghost">🔖 Bookmark</button>
          <button id="rdNote" class="btn ghost">📝 Add Note</button>
          <button id="rdNotes" class="btn ghost">📒 View Notes</button>
        </div>
        <div class="small" id="rdMeta">Score: — • Credits: —</div>
      </div>
      <div class="progress"><i id="rdProgress" style="width:0%"></i></div>
      <div id="rdTitle" class="h3"></div>
      <div id="rdPage" class="rd-body"></div>
      <div class="row between rd-pager">
        <button id="rdPrev" class="btn">Prev</button>
        <div class="small muted" id="rdPageInfo">1 / 1</div>
        <button id="rdNext" class="btn">Next</button>
      </div>
    </article>
  </section>

  <section id="page-gradebook" class="page hidden">
    <h2>Gradebook</h2>
    <table id="gbTable" class="table">
      <thead><tr><th>Student</th><th>Course</th><th>Score</th><th>Credits</th><th>Progress</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="page-dashboard" class="page hidden">
    <h2>Student Dashboard</h2>
    <div class="card">
      <div id="chatBox" class="chat-box"></div>
      <div class="row">
        <input id="chatInput" class="grow" placeholder="Type a message…">
        <button id="chatSend" class="btn">Send</button>
      </div>
    </div>
  </section>

  <section id="page-analytics" class="page hidden">
    <h2>Analytics</h2>
    <div class="card">Coming soon…</div>
  </section>

  <section id="page-settings" class="page hidden">
    <h2>Settings</h2>
    <div class="row wrap gap8">
      <label>Theme
        <select id="themeSelect">
          <option value="dark">Dark</option>
          <option value="light">Light</option>
          <option value="ocean">Ocean</option>
          <option value="violet">Violet</option>
        </select>
      </label>
      <label>Font size
        <select id="fontSelect">
          <option>14</option><option>15</option><option>16</option><option>18</option><option>20</option>
        </select>
        <span id="fontPreview" class="small muted"></span>
      </label>
    </div>
  </section>
</main>

<footer class="footer">
  <div class="row wrap">
    <a href="#" data-open-static="contact">Contact</a>
    <a href="#" data-open-static="guide">Guide</a>
    <a href="#" data-open-static="privacy">Privacy</a>
    <a href="#" data-open-static="policy">Policy</a>
    <span class="grow"></span>
    <a class="soc" aria-label="YouTube" href="https://youtube.com" target="_blank" rel="noopener">
      <svg viewBox="0 0 24 24"><path d="M23.498 6.186a3.002 3.002 0 0 0-2.113-2.125C19.6 3.5 12 3.5 12 3.5s-7.6 0-9.385.561A3.002 3.002 0 0 0 .502 6.186C0 7.98 0 12 0 12s0 4.02.502 5.814a3.002 3.002 0 0 0 2.113 2.125C4.4 20.5 12 20.5 12 20.5s7.6 0 9.385-.561a3.002 3.002 0 0 0 2.113-2.125C24 16.02 24 12 24 12s0-4.02-.502-5.814zM9.75 15.568V8.432L15.818 12 9.75 15.568z"/></svg>
    </a>
    <a class="soc" aria-label="TikTok" href="https://tiktok.com" target="_blank" rel="noopener">
      <svg viewBox="0 0 24 24"><path d="M12.5 2h3.09a6.9 6.9 0 0 0 6.41 6.41v3.12a9.97 9.97 0 0 1-6.41-2.21v6.88A7.7 7.7 0 1 1 8 8.7v3.33a3.96 3.96 0 1 0 5.5 3.72V2z"/></svg>
    </a>
    <a class="soc" aria-label="Facebook" href="https://facebook.com" target="_blank" rel="noopener">
      <svg viewBox="0 0 24 24"><path d="M22.676 0H1.326C.594 0 0 .593 0 1.326v21.348C0 23.406.594 24 1.326 24H12.82v-9.294H9.692V11.08h3.127V8.41c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24h-1.918c-1.504 0-1.796.715-1.796 1.765v2.311h3.592l-.468 3.625h-3.124V24h6.128C23.406 24 24 23.406 24 22.674V1.326C24 .593 23.406 0 22.676 0"/></svg>
    </a>
    <a class="soc" aria-label="Instagram" href="https://instagram.com" target="_blank" rel="noopener">
      <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.35 3.608 1.325.975.975 1.263 2.242 1.325 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.35 2.633-1.325 3.608-.975.975-2.242 1.263-3.608 1.325-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.35-3.608-1.325-.975-.975-1.263-2.242-1.325-3.608C2.175 15.584 2.163 15.204 2.163 12s.012-3.584.07-4.85c.062-1.366.35-2.633 1.325-3.608C4.533 2.583 5.8 2.295 7.166 2.233 8.432 2.175 8.812 2.163 12 2.163zm0 1.622c-3.153 0-3.522.012-4.764.069-1.031.047-1.593.22-1.964.392-.495.23-.85.506-1.223.879-.373.373-.649.728-.879 1.223-.173.371-.345.933-.392 1.964-.057 1.242-.069 1.611-.069 4.764s.012 3.522.069 4.764c.047 1.031.22 1.593.392 1.964.23.495.506.85.879 1.223.373.373.728.649 1.223.879.371.173.933.345 1.964.392 1.242.057 1.611.069 4.764.069s3.522-.012 4.764-.069c1.031-.047 1.593-.22 1.964-.392.495-.23.85-.506 1.223-.879.373-.373.649-.728.879-1.223.173-.371.345-.933.392-1.964.057-1.242.069-1.611.069-4.764s-.012-3.522-.069-4.764c-.047-1.031-.22-1.593-.392-1.964-.23-.495-.506-.85-.879-1.223-.373-.373-.728-.649-1.223-.879-.371-.173-.933-.345-1.964-.392-1.242-.057-1.611-.069-4.764-.069zm0 3.351A4.864 4.864 0 1 1 7.136 12 4.864 4.864 0 0 1 12 7.136zm0 8.028A3.164 3.164 0 1 0 8.836 12 3.164 3.164 0 0 0 12 15.164zm5.2-8.8a1.136 1.136 0 1 1-1.136-1.136A1.136 1.136 0 0 1 17.2 6.364z"/></svg>
    </a>
    <a class="soc" aria-label="Twitter/X" href="https://twitter.com" target="_blank" rel="noopener">
      <svg viewBox="0 0 24 24"><path d="M18.244 2H21.5l-7.62 8.705L22.5 22h-7.3l-5.71-6.622L3.5 22H.244l8.18-9.353L-.5 2h7.42l5.153 5.975L18.244 2zm-1.28 18h2.004L7.14 4H5.022l11.942 16z"/></svg>
    </a>
  </div>
</footer>

<dialog id="dlgStatic"><article><h3 id="stTitle">Info</h3><div id="stBody"></div><menu><button class="btn dlg-close">Close</button></menu></article></dialog>

<dialog id="dlgCourse">
  <form method="dialog" class="big-form">
    <h3>New Course</h3>
    <label>Title <input id="ncTitle" required></label>
    <label>Category <input id="ncCategory"></label>
    <label>Level
      <select id="ncLevel"><option>Beginner</option><option>Intermediate</option><option>Advanced</option></select>
    </label>
    <label>Rating <input id="ncRating" type="number" min="0" max="5" step="0.1" value="4.5"></label>
    <label>Hours <input id="ncHours" type="number" min="1" value="8"></label>
    <label>Price (USD) <input id="ncPrice" type="number" min="0" value="0"></label>
    <label>Credits <input id="ncCredits" type="number" min="0" value="3"></label>
    <label>Image URL <input id="ncThumb" placeholder="/images/..."></label>
    <label>Description <textarea id="ncDesc"></textarea></label>
    <menu>
      <button class="btn dlg-close" value="cancel">Close</button>
      <button id="ncSubmit" class="btn primary" value="ok">Create</button>
    </menu>
  </form>
</dialog>

<dialog id="dlgNotes">
  <article class="stack">
    <h3>Your Notes</h3>
    <div id="notesList" class="stack"></div>
    <menu><button class="btn dlg-close">Close</button></menu>
  </article>
</dialog>

<script src="/firebase.js" type="module"></script>
<script src="/app.js" type="module"></script>
<script>if('serviceWorker' in navigator){navigator.serviceWorker.register('/sw.js').catch(()=>{});}</script>
</body></html>
